<script>
/*
1. Print the occurence of each character in a string
   input: 'entertainment'
   output: { e:3 , n:2 , t: 3 ....}
*/
function charCount(str) {
    const count = {};
    for (let char of str) {
        count[char] = (count[char] || 0) + 1;
    }
    return count;
}
console.log(charCount('entertainment'));

/*
2. Print the character which is repeated max no of times
   input: 'hello world'
   output : 'L'
*/
function maxRepeatedChar(str) {
    const count = {};
    for (let char of str) {
        count[char] = (count[char] || 0) + 1;
    }
    let maxChar = '';
    let maxCount = 0;
    for (let char in count) {
        if (count[char] > maxCount) {
            maxCount = count[char];
            maxChar = char;
        }
    }
    return maxChar.toUpperCase();
}
console.log(maxRepeatedChar('hello world'));


/*
3. Swap The case for Each Character in a string 
   input: 'Hello World'
   output: 'hELLO wORLD'
*/
function swapCase(str) {
    return str.split('').map(char => 
        char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase()
    ).join('');
}
console.log(swapCase('Hello World'));

/*
4. Print the Abbreviation for a string
   input: 'Rabindra Nath Tagore'
   output: 'R. N. tagore'
*/
function abbreviate(str) {
    const words = str.split(' ');
    return words.map((word, index) => 
        index < words.length - 1 ? word[0].toUpperCase() + '.' : word.toLowerCase()
    ).join(' ');
}
console.log(abbreviate('Rabindra Nath Tagore'));



/*
6. Ask user to enter a sequence of parantheses and validate 
   input: '([{ }])'
   output : true
*/
function validateParentheses(str) {
    const stack = [];
    const pairs = { '(': ')', '[': ']', '{': '}' };
    for (let char of str) {
        if (pairs[char]) {
            stack.push(char);
        } else if (Object.values(pairs).includes(char)) {
            const last = stack.pop();
            if (pairs[last] !== char) return false;
        }
    }
    return stack.length === 0;
}
console.log(validateParentheses('([{ }])'));

/*
7. Ask user to enter a 3 letter word, print all the permutations using those 3 letters.
    input: 'ABC'
    output: ABC , ACB , BCA, BAC ...
*/
function permute(str) {
    if (str.length !== 3) return "Please enter a 3-letter word.";
    const result = [];
    for (let i = 0; i < 3; i++) {
        for (let j = 0; j < 3; j++) {
            if (i !== j) {
                const k = 3 - i - j;
                result.push(str[i] + str[j] + str[k]);
            }
        }
    }
    return result.join(', ');
}
console.log(permute('ABC'));

/*
8. Ask user to enter a number and convert that to Roman value
   input:   9    12
   output : IX   XII
*/
function toRoman(num) {
    const romanValues = [
        { value: 1000, symbol: 'M' }, { value: 900, symbol: 'CM' },
        { value: 500, symbol: 'D' }, { value: 400, symbol: 'CD' },
        { value: 100, symbol: 'C' }, { value: 90, symbol: 'XC' },
        { value: 50, symbol: 'L' }, { value: 40, symbol: 'XL' },
        { value: 10, symbol: 'X' }, { value: 9, symbol: 'IX' },
        { value: 5, symbol: 'V' }, { value: 4, symbol: 'IV' },
        { value: 1, symbol: 'I' }
    ];
    let result = '';
    for (let { value, symbol } of romanValues) {
        while (num >= value) {
            result += symbol;
            num -= value;
        }
    }
    return result;
}
console.log(toRoman(9));

/*
9. Ask user to enter a roman string and convert that to integer value
   input:   IX    XII
   output : 9     12
*/
function romanToInt(str) {
    const romanValues = {
        'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000
    };
    let result = 0;
    for (let i = 0; i < str.length; i++) {
        const current = romanValues[str[i]];
        const next = i + 1 < str.length ? romanValues[str[i + 1]] : 0;
        if (current < next) {
            result -= current;
        } else {
            result += current;
        }
    }
    return result;
}
console.log(romanToInt('IX'));

</script>